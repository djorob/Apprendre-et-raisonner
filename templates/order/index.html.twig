{% extends 'base.html.twig' %}

{% block title %}Valider ma commande - apprendre et raisonner
{% endblock %}

{% block content %}
	<h2>
		je passe ma commande
	</h2>

	<p>
		quels sont vos préférences de transporteurs</p>

	<hr/>

	<div class="row">

		<div class="col-md-6">
			<b>choisir mon adresse de livraison
			</b>
			{% set formhtml %}
			{{ form_start(form, {action:path('order_recap')}) }}
			{{ form_label(form.adresses, 'Choisissez votre adresse de livraison') }}
			<a href="{{ path('account_adress_add') }}">
				Ajouter une nouvelle adresse
			</a>

			{{ form_end(form)}}
			{% endset %}
			<br/>
			{{ formhtml| replace({'[br]' : '<br/>'})|raw  }}

		</div>

		<div class="col-md-6">
			<div class="text-center">

				<b>
					recap de ma commande
				</b>

				<p>
					retrouvez le recapitulatif de vos produits
				</p>
			</div>


			<div class="order-summary">

				{% for key,product in cart %}
					{# if we have a product superior to 0 give me a margin top #}
					<div class="row {% if key > 0 %} mt-2 {% endif %}">
						<div class="col-2">
							<img src="uploads/{{ product.product.illustration}}" height="50px" alt="{{ product.product.name }}">
						</div>

						<div class="col-8 my-auto">
							{{ product.product.name }}
							<br/>
							<small>{{ product.product.subtitle }}</small>

						</div>
						<div class="col-2 my-auto">
							x
							{{ product.quantity}}</div>
					</div>

				{% endfor %}

			</div>
			<br/>


		</div>


	</div>
{% endblock %}
